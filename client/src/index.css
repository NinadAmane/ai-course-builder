/* Import modern fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&display=swap');
@import "tailwindcss";
/* Base styles with enhanced typography */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  min-height: 100vh;
  letter-spacing: -0.01em;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.6;
  overflow-x: hidden;
}

/* Optional: utility for reverse spinning animation used by Loader */
@keyframes reverse-spin {
  to { transform: rotate(-360deg); }
}
.animate-reverse {
  animation: reverse-spin 1s linear infinite;
}

/* Prose-like defaults for AI-generated summary */
.summary-prose { 
  font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  letter-spacing: -0.005em;
  color: rgb(226 232 240); /* slate-200 */
  text-wrap: pretty;
  hyphens: auto;
  max-width: 75ch;           /* keep lines comfortable */
  margin-inline: auto;
}
.summary-prose p {
  margin-top: 1.1rem;
  margin-bottom: 1.1rem;
}
.summary-prose p:first-child { margin-top: 0; }
.summary-prose p:last-child { margin-bottom: 0; }

/* Headings */
.summary-prose h1,
.summary-prose h2,
.summary-prose h3 {
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: rgb(241 245 249); /* slate-50 */
}
.summary-prose h1 { font-size: clamp(1.5rem, 2vw + 1rem, 2rem); font-weight: 700; margin: 1.5rem 0 0.75rem; }
.summary-prose h2 { font-size: clamp(1.25rem, 1.5vw + 1rem, 1.5rem); font-weight: 700; margin: 1.25rem 0 0.5rem; }
.summary-prose h3 { font-size: clamp(1.125rem, 1vw + 0.9rem, 1.25rem); font-weight: 600; margin: 1rem 0 0.5rem; }

/* Accents */
.summary-prose strong {
  color: rgb(216 180 254); /* purple-300 */
  font-weight: 700;
}
.summary-prose em { color: rgb(196 181 253); }
.summary-prose a {
  color: rgb(147 197 253); /* sky-300 */
  text-decoration: underline;
}
.summary-prose a:hover { color: rgb(125 211 252); }

/* Lists */
.summary-prose ul,
.summary-prose ol {
  margin-top: 0.9rem;
  margin-bottom: 0.8rem;
  padding-left: 1.25rem;
}
.summary-prose li { margin: 0.35rem 0; }
.summary-prose ul { list-style: disc; }
.summary-prose ol { list-style: decimal; }
.summary-prose ul li::marker { color: rgb(167 139 250); /* violet-400 */ }
.summary-prose ol li::marker { color: rgb(129 140 248); /* indigo-400 */ }

/* Blockquote */
.summary-prose blockquote {
  margin: 1.25rem 0;
  padding: 0.9rem 1rem;
  border-left: 3px solid rgb(168 85 247); /* purple-500 */
  background: rgba(148, 163, 184, 0.08); /* slate-400/8 */
  border-radius: 0.5rem;
}

/* Inline code */
.summary-prose code {
  background: rgba(148, 163, 184, 0.15);
  padding: 0.1rem 0.35rem;
  border-radius: 0.25rem;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Code blocks */
.summary-prose pre {
  background: rgba(2, 6, 23, 0.9); /* slate-950 */
  color: rgb(226 232 240);
  padding: 1rem;
  border-radius: 0.75rem;
  border: 1px solid rgba(255,255,255,0.06);
  overflow-x: auto;
  box-shadow: 0 6px 16px rgba(0,0,0,0.35);
}
.summary-prose pre code { background: transparent; padding: 0; }

/* Tables */
.summary-prose table { width: 100%; border-collapse: separate; border-spacing: 0; margin: 1rem 0; }
.summary-prose th, .summary-prose td { padding: 0.6rem 0.75rem; text-align: left; }
.summary-prose thead th { position: sticky; top: 0; background: rgba(30, 41, 59, 0.8); color: rgb(226 232 240); }
.summary-prose tbody tr { border-bottom: 1px solid rgba(255,255,255,0.06); }
.summary-prose tbody tr:nth-child(odd) { background: rgba(255,255,255,0.03); }

/* Horizontal rule */
.summary-prose hr {
  border: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.25), transparent);
  margin: 1.5rem 0;
}

/* Images */
.summary-prose img { display: block; max-width: 100%; height: auto; border-radius: 0.75rem; margin: 1rem auto; border: 1px solid rgba(255,255,255,0.06); }

/* KBD helper */
.summary-prose kbd { background: rgba(148,163,184,0.18); border: 1px solid rgba(148,163,184,0.35); padding: 0.15rem 0.4rem; border-radius: 0.35rem; font-size: 0.85em; }

/* Selection */
.summary-prose ::selection { background: rgba(168, 85, 247, 0.25); color: white; }

/* Collapse top/bottom gaps inside summary */
.summary-prose > *:first-child { margin-top: 0 !important; }
.summary-prose > *:last-child { margin-bottom: 0 !important; }
.summary-prose p:empty { display: none; }
/* Remove paragraphs that are just a <br> */
.summary-prose p br:only-child { display: none; }

/* Udemy-like light paper summary panel */
.summary-panel {
  background: #ffffff;
  border: 1px solid rgba(15, 23, 42, 0.08); /* slate-900/8 */
  border-radius: 1rem; /* 16px */
  box-shadow: 0 8px 24px rgba(2, 6, 23, 0.06);
}

/* Light content overrides within the panel for maximum readability */
.summary-panel .summary-prose {
  color: rgb(55 65 81); /* slate-700 */
}
.summary-panel .summary-prose h1,
.summary-panel .summary-prose h2,
.summary-panel .summary-prose h3 {
  color: rgb(15 23 42); /* slate-900 */
}
.summary-panel .summary-prose a { color: rgb(37 99 235); /* blue-600 */ }
.summary-panel .summary-prose a:hover { color: rgb(30 64 175); /* blue-800 */ }
.summary-panel .summary-prose strong { color: rgb(76 29 149); /* purple-900 */ }
.summary-panel .summary-prose em { color: rgb(91 33 182); /* violet-800 */ }
.summary-panel .summary-prose blockquote {
  border-left-color: rgb(99 102 241); /* indigo-500 */
  background: rgba(99, 102, 241, 0.06);
}
.summary-panel .summary-prose code {
  background: rgba(2, 6, 23, 0.06);
}
.summary-panel .summary-prose pre {
  background: rgb(15 23 42); /* slate-900 */
  color: rgb(241 245 249);
  border-color: rgba(2, 6, 23, 0.25);
}
.summary-panel .summary-prose thead th {
  background: rgba(99, 102, 241, 0.06);
  color: rgb(30 41 59);
}

/* Code box with header + copy button (Udemy-like) */
.codebox {
  border: 1px solid rgba(2, 6, 23, 0.08);
  border-radius: 0.75rem;
  overflow: hidden;
  margin: 1rem 0;
  background: #0b1220; /* keeps pre contrast when not overridden */
}
.codebox-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.5rem 0.75rem;
  background: #eef2ff; /* indigo-50 */
  color: #3730a3; /* indigo-700 */
  font-weight: 600;
  font-size: 0.9rem;
}
.copy-btn {
  appearance: none;
  background: white;
  color: #111827; /* gray-900 */
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 0.5rem;
  padding: 0.35rem 0.6rem;
  font-size: 0.85rem;
  line-height: 1;
  cursor: pointer;
}
.copy-btn:hover { background: #f3f4f6; }
.copy-btn:active { transform: translateY(1px); }

/* When the codebox is inside the light panel, keep a lighter border */
.summary-panel .codebox { border-color: rgba(2, 6, 23, 0.08); background: transparent; }
.summary-panel .codebox .codebox-header { background: #eef2ff; color: #3730a3; }

/* Blob animation utilities (subtle moving blurs) */
@keyframes blob {
  0% { transform: translate(0px, 0px) scale(1); }
  33% { transform: translate(20px, -10px) scale(1.05); }
  66% { transform: translate(-10px, 10px) scale(0.98); }
  100% { transform: translate(0px, 0px) scale(1); }
}
.animate-blob { animation: blob 12s ease-in-out infinite; }
.animation-delay-2000 { animation-delay: 2s; }
.animation-delay-4000 { animation-delay: 4s; }

/* PDF helpers */
.pdf-avoid-break { break-inside: avoid; page-break-inside: avoid; }
.pdf-mode * { animation: none !important; transition: none !important; }
.pdf-mode .no-print { display: none !important; }
.pdf-mode .shadow, .pdf-mode .shadow-md, .pdf-mode .shadow-lg, .pdf-mode .shadow-xl { box-shadow: none !important; }